<div id="timerBox" class="w-192 mt-5 flex items-center justify-center">
  <div
    id="timerBoxLogic"
    class="flex grow flex-col items-center justify-center"
  >
    <div class="mb-10 flex flex-col items-center justify-center gap-3 text-2xl">
      <div class="flex items-center justify-center gap-3">
        <div>
          <input
            type="number"
            id="hours"
            name="hours"
            min="0"
            max="99"
            th:value="${latestSetTimeHours}"
            class="w-20 rounded-lg border p-2 text-black focus:outline-none"
          />
          <label for="hours">h</label>
        </div>

        <div>
          <input
            type="number"
            id="minutes"
            name="minutes"
            min="0"
            max="60"
            th:value="${latestSetTimeMinutes}"
            class="w-20 rounded-lg border p-2 text-black focus:outline-none"
          />
          <label for="minutes">m</label>
        </div>

        <div>
          <input
            type="number"
            id="seconds"
            name="seconds"
            min="0"
            max="60"
            th:value="${latestSetTimeSeconds}"
            class="w-20 rounded-lg border p-2 text-black focus:outline-none"
          />
          <label for="seconds">s</label>
        </div>
      </div>

      <p id="currentStage" class="text-2xl">Home</p>
    </div>

    <button
      hx-put="/timer/running"
      hx-ext="json-enc"
      hx-target="#timerBox"
      hx-swap="outerHTML"
      hx-include="[name='hours'], [name='minutes'], [name='seconds'], [name='shortBreak'], [name='longBreak'], [name='interval']"
      hx-vals='js:{"timerAutoBreakPretty": document.getElementById("timerAutoBreakCurrent").innerHTML, "selectedTopic": document.getElementById("selectedTopic").innerHTML}'
      class="bg-base-button hover:bg-base-button-hov rounded-md px-4 py-2 text-xl duration-200"
    >
      Start
    </button>

    <a href="/stopwatch" class="dash-animation mt-10 text-xl">Stopwatch</a>
  </div>

  <div
    class="flex w-2/5 flex-col items-start gap-3 border-l-2 border-black pl-4"
  >
    <form class="flex w-4/5 flex-col">
      <label class="mb-0.5 ml-2" for="selectTopic">Select a topic</label>

      <select
        id="selectTopic"
        class="rounded-lg p-2 text-black focus:outline-none"
      >
        <option
          id="selectedTopic"
          selected
          th:value="${firstTopic.getName()}"
          th:text="${firstTopic.getName()}"
        ></option>
        <option
          th:each="topic: ${topics}"
          th:value="${topic.getName()}"
          th:text="${topic.getName()}"
        ></option>
      </select>
    </form>

    <div>
      <label class="mb-0.5 ml-2" for="shortBreak">Short break</label>
      <div id="shortBreak" class="flex items-center gap-2">
        <input
          type="number"
          name="shortBreak"
          min="0"
          th:value="${shortBreak}"
          class="w-16 rounded-lg border p-2 text-black focus:outline-none"
        />
        <p class="text-2xl">min</p>
      </div>
    </div>

    <div>
      <label class="mb-0.5 ml-2" for="longBreak">Long break</label>
      <div id="longBreak" class="flex items-center gap-2">
        <input
          type="number"
          name="longBreak"
          min="0"
          th:value="${longBreak}"
          class="w-16 rounded-lg border p-2 text-black focus:outline-none"
        />
        <p class="text-2xl">min</p>
      </div>
    </div>

    <div id="timerAutoBreakSettings" class="flex flex-col items-start gap-3">
      <div>
        <label class="mb-0.5 ml-2" for="timerAutoBreakCurrent"
          >Auto break</label
        >
        <p
          id="timerAutoBreakCurrent"
          class="text-2xl"
          th:text="${timerAutoBreakPretty}"
        ></p>
      </div>

      <div
        class="flex flex-col items-start"
        th:classappend="${timerAutoBreak? '' : 'hidden'}"
      >
        <label class="mb-0.5 ml-2" for="interval">Interval</label>
        <input
          type="number"
          id="interval"
          name="interval"
          min="0"
          th:value="${interval}"
          class="w-16 rounded-lg border p-2 text-black focus:outline-none"
        />
      </div>
    </div>
  </div>
</div>
