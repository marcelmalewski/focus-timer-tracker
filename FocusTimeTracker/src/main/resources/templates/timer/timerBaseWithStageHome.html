<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Bla bla</title>
    <script
      src="https://unpkg.com/htmx.org@1.9.10"
      integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
    <link th:href="@{/output.css}" rel="stylesheet" />
  </head>
  <body>
    <div
      class="bg-base-bg text-base-text flex h-screen w-screen flex-col items-center justify-start"
    >
      <div
        th:replace="timer/fragments/timerBoxStageHome.html :: #timerBox"
      ></div>

      <div class="absolute bottom-0 left-0 m-3">
        <a href="/logout" class="dash-animation text-xl"> Log out </a>

        <div class="mt-3 flex flex-col items-center justify-center gap-2">
          <div
            class="flex flex-col items-center justify-center gap-1 border border-b-2 text-xl"
          >
            <div>Email + potwierdzenie hasłem email, może to potem</div>

            <button
              type="submit"
              class="bg-base-button hover:bg-base-button-hov mt-6 rounded-md px-4 py-2 text-xl duration-200"
            >
              Save
            </button>
          </div>

          <div
            class="flex flex-col items-center justify-center gap-1 border border-b-2 text-xl"
          >
            <div>password</div>

            <button
              type="submit"
              class="bg-base-button hover:bg-base-button-hov mt-6 rounded-md px-4 py-2 text-xl duration-200"
            >
              Save
            </button>
          </div>

          <div
            class="flex flex-col items-center justify-center gap-1 border border-b-2 text-xl"
          >
            <div>
              <label for="timerAutoBreakInput">Timer auto brak:</label>
              <input
                type="checkbox"
                id="timerAutoBreakInput"
                name="timerAutoBreakInput"
                class="focus:outline-none"
                th:checked="${timerAutoBreak}"
              />
            </div>

            <button
              hx-patch="/person/timerAutoBreak"
              hx-target="#timerAutoBreakSettings"
              hx-swap="outerHTML"
              hx-ext="json-enc"
              hx-include="[name='timerAutoBreakInput']"
              hx-vals="js:{
              timerInterval: document.getElementById('interval').getAttribute('value'),
            }"
              type="submit"
              class="bg-base-button hover:bg-base-button-hov mt-6 rounded-md px-4 py-2 text-xl duration-200"
            >
              Save
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      let intervalId;
      let breakIntervalId;
    </script>
  </body>
</html>
